"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{41112:function(e,a,l){l.r(a),l.d(a,{default:function(){return m}});var r=l(57437),n=l(96507),o=l(49600),t=l(2265),s=l(33457),i=l(92069),c=l(93202);let u={muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"}},d={t:[{header:"Pathway",accessorKey:"pathway",size:310,...u},{header:"pval",accessorKey:"pval",size:80,filterFn:"lessThanOrEqualTo",...u,columnFilterModeOptions:[]},{header:"padj",accessorKey:"padj",filterFn:"lessThanOrEqualTo",size:100,columnFilterModeOptions:[],...u},{header:"ES",accessorKey:"ES",filterFn:"greaterThan",size:100,...u},{header:"NES",accessorKey:"NES",size:100,filterFn:"greaterThan",...u},{header:"N. Leading Edge",accessorKey:"nLeadingEdge",filterFn:"greaterThan",size:200,...u},{header:"Size",accessorKey:"size",size:120,filterFn:"greaterThan",...u}],m:[{header:"Pathway",accessorKey:"pathway",size:400,...u},{header:"pval",accessorKey:"p-value",size:80,filterFn:"lessThanOrEqualTo",...u,columnFilterModeOptions:[]},{header:"Overlap Size",accessorKey:"overlap_size",size:180,filterFn:"greaterThanOrEqualTo",...u,columnFilterModeOptions:["lessThanOrEqualTo","greaterThanOrEqualTo"]},{header:"Pathway Size",accessorKey:"pathway_size",size:180,filterFn:"greaterThanOrEqualTo",...u,columnFilterModeOptions:["lessThanOrEqualTo","greaterThanOrEqualTo"]},{header:"Features",accessorKey:"overlap_fid",size:220,...u,muiTableBodyCellProps:{align:"left"}}]},p=(e,a)=>{let l=(0,i.iL)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0,filename:"GSEA_Enrichment_".concat(a)}),r=(0,i.gB)(l)(e).replace(/,null/g,",");(0,i.LR)(l)(r)};var m=function(e){let{gseaRes:a,omic:l,db:i}=e,u="m"==l,m=(0,t.useMemo)(()=>{let e=null;return u&&["pos","neg"].includes(i)&&(e="mummichog"),u&&["KEGG","ChEBI"].includes(i)&&(e="msea"),e},[i,u]),h=(0,t.useMemo)(()=>d[u&&"mummichog"==m?"m":"t"],[u,m]),g=(0,t.useMemo)(()=>u&&"mummichog"==m?a.filter(e=>!(0==e.overlap_size||0==e.pathway_size)):a.map(e=>({...e,pval:0==e.pval?1e-4:e.pval,nLeadingEdge:e.leadingEdge.length,leadingEdge:e.leadingEdge.reduce((e,a)=>"".concat(e," // ").concat(a))})),[a,u,m]),b=(0,t.useMemo)(()=>u&&"mummichog"==m?g.map(e=>({...e,"p-value":Number.parseFloat(e["p-value"]).toExponential(2)})):g.map(e=>({...e,pval:0==e.pval?0:Number.parseFloat(e.pval).toExponential(2),padj:Number.parseFloat(e.padj).toExponential(2),ES:Number.parseFloat(e.ES),NES:Number.parseFloat(e.NES)})),[g,u,m]),[T,E]=(0,t.useState)({}),y=(0,s.X0)({columns:h,data:b,enableStickyHeader:!0,enableBottomToolbar:!1,enableColumnResizing:!0,enablePagination:!1,enableColumnPinning:!1,enableRowNumbers:!1,enableRowActions:!1,enableRowSelection:!0,enableMultiRowSelection:!0,enableDensityToggle:!1,enableColumnFilters:!0,enableColumnFilterModes:!0,enableFullScreenToggle:!1,enableHiding:!1,enableColumnActions:!1,muiTableContainerProps:{sx:{maxHeight:"500px"}},enableFacetedValues:!0,initialState:{density:"compact",showGlobalFilter:!0,showColumnFilters:!0},positionToolbarAlertBanner:"bottom",getRowId:e=>e.native,muiTableBodyRowProps:e=>{let{row:a}=e;return{onClick:a.getToggleSelectedHandler(),sx:{cursor:"pointer"}}},onRowSelectionChange:E,state:{rowSelection:T},renderTopToolbarCustomActions:e=>{let{table:a}=e;return(0,r.jsx)(n.Z,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:(0,r.jsx)(o.Z,{onClick:()=>p(g,i),startIcon:(0,r.jsx)(c.Z,{}),children:"Export All Data"})})}});return(0,r.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,r.jsx)(n.Z,{sx:{width:1150,border:"0px solid red"},children:(0,r.jsx)(s.P2,{table:y})})})}}}]);