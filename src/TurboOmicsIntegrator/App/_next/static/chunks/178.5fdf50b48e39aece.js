"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{81178:function(e,a,l){l.r(a);var t=l(57437),n=l(96507),i=l(49600),s=l(2265),o=l(93202),r=l(92069),c=l(33457);a.default=function(e){let{myData:a,setCategory:l,myUsrFilt:d,setMyUsrFilt:u}=e,p=()=>{let e=(0,r.iL)({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0,filename:"Metabolite_Enrichment"}),l=a.map(e=>({ID:e.id,Type:e.db,Name:e.name,pvalue:e.pvalue,FDR:e.FDR,"N. mapped":e.N_pathway_mapped,"N. target":e.N_pathway_sig})),t=(0,r.gB)(e)(l);(0,r.LR)(e)(t)},m=(0,s.useMemo)(()=>[{header:"ID",accessorKey:"id",size:100},{header:"Type",accessorKey:"db",size:120,filterVariant:"multi-select"},{header:"Name",accessorKey:"name",size:220},{header:"pvalue",accessorKey:"pvalue",size:100,filterFn:"lessThan"},{header:"FDR",accessorKey:"FDR",size:80,filterFn:"lessThan"},{header:"N. Backg.",accessorKey:"N_pathway_mapped",size:100},{header:"N. Target",accessorKey:"N_pathway_sig",size:100}],[]),b=(0,s.useMemo)(()=>a.length>0?{[a[0].id]:!0}:{},[a]),[g,h]=(0,s.useState)(b);(0,s.useEffect)(()=>{0==Object.keys(g).length?l(null):l(a.filter(e=>e.id==Object.keys(g)[0])[0])},[g,a,l]);let y=(0,c.X0)({columns:m,data:a,layoutMode:"grid",enableBottomToolbar:!1,enableColumnResizing:!0,enablePagination:!1,enableColumnPinning:!1,enableRowNumbers:!1,enableRowActions:!1,enableRowSelection:!0,enableMultiRowSelection:!1,enableDensityToggle:!1,enableColumnFilters:!0,enableFullScreenToggle:!1,enableHiding:!1,enableColumnActions:!1,muiTableContainerProps:{sx:{maxHeight:"330px",minHeight:"330px"}},enableFacetedValues:!0,initialState:{density:"compact",showGlobalFilter:!0,showColumnFilters:!0,columnFilters:[{id:"pvalue",value:.05}],rowSelection:{initialSelectedRow:b},sorting:[{id:"pvalue",desc:!1}]},positionToolbarAlertBanner:"bottom",getRowId:e=>e.id,muiTableBodyRowProps:e=>{let{row:a}=e;return{onClick:a.getToggleSelectedHandler(),sx:{cursor:"pointer"}}},onRowSelectionChange:h,state:{rowSelection:g},renderTopToolbarCustomActions:e=>{let{table:a}=e;return(0,t.jsx)(n.Z,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:(0,t.jsx)(i.Z,{onClick:p,startIcon:(0,t.jsx)(o.Z,{}),children:"Export All Data"})})}}),[w,f]=(0,s.useState)(a.map(e=>e.native)),x=y.getFilteredRowModel().rows.map(e=>e.id);return w.every(e=>x.includes(e))&&x.every(e=>w.includes(e))||f(x),(0,s.useEffect)(()=>{console.log("Setting ID"),d.every(e=>w.includes(e))&&w.every(e=>d.includes(e))||u(w)},[w,u,d]),(0,t.jsx)(c.P2,{table:y})}}}]);