"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{28056:function(e,t,s){s.r(t),s.d(t,{default:function(){return el}});var i=s(57437),l=s(96507),n=s(2265),a=s(11093),o=s(41637),r=s(14132),c=s(73117),d=s(85269),u=s(47042),x=s(46776),p=s(38939),h=s(23503),m=s(75897),g=s(53514),j=s(77370),y=s(80470),b=s(57842),f=s(62254),v=s(55183),Z=s(64728);let C="rgba(200,200,200,0.5)",w=e=>({cell:{transition:"background-color 0.3s, border-color 0.3s",border:"1px solid ".concat(C),cursor:"1D"==e?"pointer":"",padding:.5,fontSize:15,textAlign:"center",userSelect:"none","&:hover":{border:"1D"==e?"1px solid rgba(50,50,50,1)":"1px solid ".concat(C)}},selectedCell:{border:"1D"==e?"1px solid rgba(50,50,50,1)":"1px solid ".concat(C),"&:hover":{border:"1D"==e?"1px solid rgba(50,50,50,1)":"1px solid ".concat(C)}}}),P={textAlign:"center",padding:.5,border:"1px solid ".concat(C),borderRight:"1px solid rgba(10,10,10,1)",fontSize:15,whiteSpace:"nowrap",userSelect:"none"},S=e=>({backgroundColor:e<.1?"rgba(".concat(2550*e,",").concat(200+550*e,",").concat(2550*e,", 0.5)"):"rgba(255,255,255,0.5)"}),A=e=>({backgroundColor:"rgba(".concat(255,",").concat(255-255*e/100,",").concat(255-255*e/100,", 0.8)")});function D(e){let{omic:t,data:s,rowNames:o,colNames:r,expVar:c,setSelectedPlot:d,scatterMode:u}=e,{OMIC2NAME:D}=(0,a.S)(),k=(0,Z.a0)().EDA.PCA[t].displayOpts.selectedCell,[T,E]=(0,n.useState)(k),z=(0,Z.mX)(),O=w(u),F=(e,s)=>{"2D"!=u&&(E({rowIndex:e,colIndex:s}),d({mdataCol:o[e],PCA:r[s]}),z({omic:t,type:"set-selected-plot-cell",rowIndex:e,colIndex:s,mdataCol:o[e],PCA:r[s]}),console.log("Plot scatter: PCA ".concat(r[s]," vs ").concat(o[e])))},V=(0,n.useMemo)(()=>{let e=[];e.push(["PCA / Cond.",...r]),e.push(["%Variance",...c]);let t=s.map((e,t)=>[o[t],...e]);return[...e,...t]},[r,c,s,o]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{sx:{height:0,width:50,zIndex:5e3,display:"flex",paddingLeft:.5},children:(0,i.jsx)(x.Z,{"aria-label":"download",size:"small",sx:{opacity:.5,position:"relative",top:-21},children:(0,i.jsx)(v.CSVLink,{data:V,filename:"PCA_Anova_pvalues/".concat(D[t],".csv"),separator:",",children:(0,i.jsx)(f.Z,{})})})}),(0,i.jsxs)(p.ZP,{container:!0,children:[(0,i.jsx)(p.ZP,{item:!0,xs:2,children:(0,i.jsx)(h.Z,{sx:{margin:"auto"},children:(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{children:(0,i.jsx)(y.Z,{sx:{padding:0,textAlign:"center"},children:"PCA / Cond."})})}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(j.Z,{children:(0,i.jsx)(y.Z,{sx:{padding:0,border:0},children:(0,i.jsx)(l.Z,{sx:{...P,borderBottom:"1px solid rgba(10,10,10,1)"},children:"%Variance"})})},"expVar"),o.map((e,t)=>(0,i.jsx)(j.Z,{children:(0,i.jsx)(y.Z,{sx:{padding:0,border:0},children:(0,i.jsxs)(l.Z,{sx:P,children:["p-value [ ",(0,i.jsx)("strong",{children:e})," ]"]})})},t))]})]})})}),(0,i.jsx)(p.ZP,{item:!0,xs:10,children:(0,i.jsx)(h.Z,{sx:{margin:"auto"},children:(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(g.Z,{children:(0,i.jsx)(j.Z,{children:s[0].map((e,t)=>(0,i.jsx)(y.Z,{sx:{padding:0,textAlign:"center",width:50,userSelect:"none"},children:t+1},t))})}),(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(j.Z,{children:c.map((e,t)=>(0,i.jsx)(y.Z,{sx:{padding:0,border:0},children:(0,i.jsx)(l.Z,{sx:{padding:.5,border:"1px solid ".concat(C),borderBottom:"1px solid rgba(10,10,10,1)",fontSize:15,textAlign:"center",backgroundColor:A(e),userSelect:"none"},children:e})},t))},"expVar"),s.map((e,t)=>(0,i.jsx)(j.Z,{children:e.map((e,s)=>(0,i.jsx)(y.Z,{sx:{padding:0,border:0},onClick:()=>F(t,s),children:(0,i.jsx)(l.Z,{sx:T&&T.rowIndex===t&&T.colIndex===s?{...O.cell,...O.selectedCell,...S(e)}:{...O.cell,...S(e)},children:e<.001?e.toExponential(3):e.toFixed(3)})},s))},t))]})]})})})]})]})}var k=s(88030),T=s(67248),E=s(50294),z=s(9140),O=s(33457),F=s(92069),V=s(52481);function R(e){let{omic:t,selectedLoadings:s,selectedPCA:r}=e,{OMIC2NAME:c}=(0,a.S)(),d=(0,Z.mX)(),{displayOpts:u}=(0,Z.a0)().EDA.PCA[t],[p,h]=(0,n.useState)(""),[m,g]=(0,n.useState)(u.filterCol),j=(0,o.tc)().user["".concat(t,"2i")],{filteredFeatures:y,columns:b}=(0,n.useMemo)(()=>{console.log("calculating filteredFeatures");let e={},t=[{accessorKey:"ID",header:"ID",size:60},{accessorKey:"mdataValue",header:"",size:10},...r.map((e,t)=>({accessorKey:"PCA".concat(t),header:"Loadings PCA".concat(e)}))];if(j.columns.includes(m)){e=(e=j.column(m)).values.map((t,i)=>void 0==s[e.index[i]]?null:{ID:e.index[i],mdataValue:t,...s[e.index[i]].reduce((e,t,s)=>({...e,["PCA".concat(s)]:t}),{PCA0:s[e.index[i]][0]})}).filter(e=>null!=e);let i=RegExp("");try{i=new RegExp(p)}catch(e){i=RegExp("")}e=e.filter(e=>null!=e.mdataValue&&i.test(e.mdataValue)),t[1].header=m,t[1].size=100}else e=Object.keys(s).map((e,t)=>({ID:e,mdataValue:"",...s[e].reduce((e,t,s)=>({...e,["PCA".concat(s)]:t}),{PCA0:s[e][0]})}));return{filteredFeatures:e,columns:t}},[s,p,m,j,r]);return(0,i.jsxs)(l.Z,{sx:{width:"95%",margin:"auto"},children:[(0,i.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,i.jsx)(l.Z,{sx:{mt:3,ml:0},children:(0,i.jsx)(x.Z,{"aria-label":"download",size:"small",onClick:e=>I(c[t],y,b),sx:{opacity:.5},variant:"danger",children:(0,i.jsx)(V.Z,{})})}),(0,i.jsx)(l.Z,{sx:{width:"40%",pt:0,pb:0,ml:3},children:(0,i.jsx)(E.$S,{options:[{label:"All features",value:"All features"},...j.columns.map(e=>({label:e,value:e}))],onChange:e=>{g(e.value),d({type:"set-filter-col",value:e.value,omic:t})},value:{label:m,value:m}})}),j.columns.includes(m)&&(0,i.jsx)(z.Z,{children:(0,i.jsx)(l.Z,{sx:{mt:3,ml:3},children:(0,i.jsx)(T.Z,{id:"standard-name",placeholder:"Filter text",value:p,onChange:e=>{h(e.target.value)}})})})]}),(0,i.jsx)(l.Z,{sx:{mt:0,border:"0px solid red"},children:(0,i.jsx)(M,{data:y,columns:b})})]})}let I=(e,t,s)=>{let i=(0,F.iL)({useKeysAsHeaders:!0,filename:"PCA_Loading_Table-".concat(e)}),l=t.map(e=>{let t={};return s.map(s=>{""!=s.header&&(t[s.header]=e[s.accessorKey])}),t}),n=(0,F.gB)(i)(l);(0,F.LR)(i)(n)};function M(e){let{columns:t,data:s}=e,l=(0,n.useRef)(null),[a,o]=(0,n.useState)(!0),[r,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{o(!1)},[]),(0,n.useEffect)(()=>{try{var e,t;null===(t=l.current)||void 0===t||null===(e=t.scrollToIndex)||void 0===e||e.call(t,0)}catch(e){console.error(e)}},[r]);let d=(0,O.X0)({columns:t,data:s,defaultDisplayColumn:{enableResizing:!0},layoutMode:"grid",enableBottomToolbar:!1,enableTopToolbar:!1,enableColumnResizing:!0,enableColumnVirtualization:!0,enableGlobalFilterModes:!1,enablePagination:!1,enableColumnPinning:!1,enableRowNumbers:!1,enableColumnFilters:!1,enableRowVirtualization:!0,muiTableContainerProps:{sx:{maxHeight:"510px"}},onSortingChange:c,state:{isLoading:a,sorting:r},rowVirtualizerInstanceRef:l,rowVirtualizerOptions:{overscan:5},columnVirtualizerOptions:{overscan:2}});return(0,i.jsx)(z.Z,{children:(0,i.jsx)("div",{style:{opacity:.9,width:"100%",margin:"auto"},children:(0,i.jsx)(O.P2,{table:d})})})}var L=function(e){let{pvColNames:t,pvRowNames:s,selectedPlot2D:n,setSelectedPlot2D:a,omic:r}=e,c=(0,Z.mX)(),{mdataType:d}=(0,o.tc)();return(0,i.jsxs)(l.Z,{sx:{height:75,display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(l.Z,{sx:{width:"25%"},children:(0,i.jsx)(E.$S,{options:t.map(e=>({label:"PCA ".concat(e),value:e})),onChange:e=>{a(t=>({...t,x:e.value})),c({type:"set-selected-plot-2d",option:"x",value:e.value,omic:r})},value:{label:"PCA ".concat(n.x),value:n.x},label:"X axis"})}),(0,i.jsx)(l.Z,{sx:{width:"25%"},children:(0,i.jsx)(E.$S,{options:t.map(e=>({label:"PCA ".concat(e),value:e})),onChange:e=>{a(t=>({...t,y:e.value})),c({type:"set-selected-plot-2d",option:"y",value:e.value,omic:r})},value:{label:"PCA ".concat(n.y),value:n.y},label:"Y axis"})}),(0,i.jsx)(l.Z,{sx:{width:"40%"},children:(0,i.jsx)(E.$S,{options:[{label:"No color",value:"No color"},...s.filter(e=>"categorical"==d[e].type).map(e=>({label:e,value:e}))],onChange:e=>{a(t=>({...t,g:e.value})),c({type:"set-selected-plot-2d",option:"g",value:e.value,omic:r})},value:{label:n.g,value:n.g},label:"Color by"})})]})},_=s(35843),B=s(22079),H=s(91797),N=s(52151),X=s(91928),$=s(33533),q=s(80565),K=s(37682),U=s(666);let G=(0,_.ZP)(B.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function W(){let[e,t]=n.useState(!1),s=()=>{t(!1)};return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(x.Z,{"aria-label":"question",size:"large",onClick:()=>{t(!0)},children:(0,i.jsx)(U.Z,{fontSize:"inherit"})}),(0,i.jsxs)(G,{onClose:s,"aria-labelledby":"customized-dialog-title",open:e,maxWidth:"lg",sx:{zIndex:1e5},children:[(0,i.jsx)(H.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Principal Component Analysis (PCA)"}),(0,i.jsx)(x.Z,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,i.jsx)($.default,{})}),(0,i.jsxs)(N.Z,{sx:{textAlign:"justify"},dividers:!0,children:[(0,i.jsx)(d.Z,{gutterBottom:!0,children:"This section allows users to explore and interpret the principal components of your omic data, helping to reveal patterns and reduce data dimensionality. The PCA section is organized by omic type, and users can navigate between different omics using the Omic Selector button at the top. Each omic subsection includes the following components:"}),(0,i.jsx)(l.Z,{sx:{pl:3},children:(0,i.jsxs)(q.Z,{sx:{listStyleType:"disc",border:"0px solid blue",listStyle:"outside"},children:[(0,i.jsxs)(K.ZP,{sx:{display:"list-item",border:"0px solid red"},children:[(0,i.jsx)("strong",{children:"Statistical Summary Table"}),(0,i.jsxs)(q.Z,{sx:{listStyleType:"disc",listStyle:"outside"},children:[(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Principal Components"}),": The first row of the table displays the percentage of variability explained by each of the first ten principal components. This helps users understand how much of the total data variance is captured by each component."]}),(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Regression p-values"}),": For each variable in your Experimental Metadata table, a row is included that shows the regression p-value between that variable and each principal component. These values indicate the strength of the relationship between the principal components and your experimental conditions, helping to identify significant associations."]})]})]}),(0,i.jsxs)(K.ZP,{sx:{display:"list-item",border:"0px solid red"},children:[(0,i.jsx)("strong",{children:"Visualization Panes"}),(0,i.jsxs)(q.Z,{sx:{listStyleType:"disc",listStyle:"outside"},children:[(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Left Pane: Sample Projection Scatter Plot"}),(0,i.jsxs)(q.Z,{sx:{listStyleType:"disc",listStyle:"none"},children:[(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"2D View"}),": This scatter plot shows the sample projections on two selected principal components. Users can choose which components to display on the X and Y axes. The points on the plot can be color-coded based on different grouping criteria, such as experimental conditions or metadata categories."]}),(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"1D View"}),": Here, the Y axis represents a single principal component, while the X axis shows the group to which each sample belongs. This view allows users to easily compare the distribution of samples across different groups within a single principal component."]})]})]}),(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Right Pane: Principal Component Loadings"}),(0,i.jsx)(q.Z,{sx:{listStyleType:"disc",listStyle:"none"},children:(0,i.jsx)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:"This pane displays the loadings of each biomolecule on the selected principal components. The loadings indicate the contribution of each biomolecule to the principal components, helping to identify which variables are most influential in driving the observed patterns."})})]})]})]})]})})]}),(0,i.jsx)(X.Z,{})]})]})}function Y(e){let{omic:t}=e,s=(0,n.useRef)(null),{API_URL:x}=(0,a.S)(),p=(0,Z.mX)(),h=(0,Z.a0)().EDA.PCA[t].status,[m,g]=(0,n.useState)(h),j=(0,Z.a0)().EDA.PCA[t].data,[y,b]=(0,n.useState)(j),{projections:f,loadings:v,explained_variance:C,anova:w}=y,{mdata:P}=(0,o.tc)().user,{mdataType:S}=(0,o.tc)(),{jobID:A}=(0,o.tc)(),{displayOpts:T}=(0,Z.a0)().EDA.PCA[t],[E,z]=(0,n.useState)(T.scatterMode),[O,F]=(0,n.useState)(T.selectedPlot),[V,I]=(0,n.useState)(T.selectedPlot2D),M=(0,n.useCallback)(async()=>{console.log("Fetching data");let e=await fetch("".concat(x,"/get_eda_pca/").concat(A,"/").concat(t)),{resStatus:i,dataPCA:l}=await e.json();console.log(i),"waiting"!=i.status&&(console.log("Status changed: ".concat(JSON.stringify(i))),b(l),g(i),p({type:"set-eda-pca-data",data:l,omic:t}),p({type:"set-eda-pca-status",status:i,omic:t}),clearInterval(s.current))},[x,A,t,p,s]);(0,n.useEffect)(()=>{if("waiting"==m.status)return console.log("Get data from server"),s.current=setInterval(M,2e3),()=>clearInterval(s.current)},[s,M,m.status]);let{pvTable:_,pvRowNames:B,pvColNames:H,pvExpVar:N}=(0,n.useMemo)(()=>J(w,C,P,m),[w,C,P,m]),X=(0,n.useMemo)(()=>Q(f,P,S,O,V,m,E),[f,P,S,O,V,m,E]),$=(0,n.useMemo)(()=>ee(v,O,V,m,E),[v,O,V,m,E]);return(0,i.jsx)(l.Z,{children:"ok"==m.status?(0,i.jsxs)(l.Z,{sx:{padding:.2,transition:"all 1s ease"},children:[(0,i.jsx)(l.Z,{sx:{margin:"auto",pt:3,width:"90%"},children:(0,i.jsx)(D,{omic:t,data:_,rowNames:B,colNames:H,expVar:N,setSelectedPlot:F,scatterMode:E})}),(0,i.jsx)(l.Z,{sx:{height:0,mt:5},children:(0,i.jsx)(W,{})}),(0,i.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[(0,i.jsx)(l.Z,{sx:{width:"45%",mt:4,overflowX:"auto"},children:(0,i.jsxs)(l.Z,{sx:{width:600,margin:"auto"},children:[(0,i.jsx)(l.Z,{sx:{textAlign:"center",mt:2},children:(0,i.jsx)(l.Z,{sx:{mb:2},children:(0,i.jsxs)(r.Z,{color:"primary",value:E,exclusive:!0,onChange:(e,s)=>{z(e.target.value),p({type:"set-scatter-mode",mode:e.target.value,omic:t})},"aria-label":"Platform",children:[(0,i.jsx)(c.Z,{value:"1D",children:"1D"}),(0,i.jsx)(c.Z,{value:"2D",children:"2D"})]})})}),(0,i.jsx)(l.Z,{sx:{textAlign:"center"},children:"1D"==E?(0,i.jsx)(l.Z,{sx:{height:75,pt:3},children:(0,i.jsx)(d.Z,{variant:"body1",children:"Select a p-value cell to plot PCA"})}):(0,i.jsx)(L,{pvColNames:H,pvRowNames:B,selectedPlot2D:V,setSelectedPlot2D:I,omic:t})}),X&&(0,i.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center"},children:"1D"==E?(0,i.jsx)(k.T3,{omic:t,scatterData:X,mdataCol:O.mdataCol,PCA:O.PCA}):(0,i.jsx)(k.$Y,{omic:t,scatterData:X,selectedPlot2D:V})})]})}),(0,i.jsx)(l.Z,{sx:{width:"45%"},children:$&&(0,i.jsx)(l.Z,{sx:{marginTop:5,textAlign:"center"},children:(0,i.jsx)(R,{omic:t,selectedLoadings:$,selectedPCA:"1D"==E?[O.PCA]:[V.x,V.y]})})})]})]}):(0,i.jsx)(l.Z,{sx:{textAlign:"center",pt:15,height:"30vh"},children:(0,i.jsx)(u.Z,{size:100,thickness:2})})})}let J=(e,t,s,i)=>{let l,n,a,o,r;if("ok"==i.status){l=s.columns.map(t=>Object.keys(e).map(s=>[t,parseInt(s),e[s][t]]));for(let e=0;e<l.length;e++)l[e].sort((e,t)=>e[1]-t[1]);a=(l=l.filter(e=>!e.map(e=>0==Object.keys(e[2]).length).every(e=>e))).map(e=>e[0][0]),o=l[0].map(e=>e[1]),n=l.map(e=>e.map(e=>e[2].pvalue)),r=Object.keys(t).map(e=>(100*t[e].Explained_Variance).toFixed(1))}return{pvTable:n,pvRowNames:a,pvColNames:o,pvExpVar:r}},Q=(e,t,s,i,l,n,a)=>{let o=null;if("ok"==n.status&&"1D"==a&&i){let l=t.column(i.mdataCol);o=Object.keys(e).map(t=>({element:t,projection:e[t][i.PCA],mdataValue:l.values[l.index.indexOf(t)]})),"categorical"==s[i.mdataCol].type&&o.sort((e,t)=>s[i.mdataCol].levels.indexOf(e.mdataValue)-s[i.mdataCol].levels.indexOf(t.mdataValue))}else"ok"==n.status&&"2D"==a&&l&&(Object.keys(s).includes(l.g)?(o={},s[l.g].levels.map(t=>{o[t]=[],s[l.g].level2id[t].map(s=>{Object.keys(e).includes(s)&&o[t].push({element:s,x:e[s][l.x],y:e[s][l.y]})})})):o={[l.g]:Object.keys(e).map(t=>({element:t,x:e[t][l.x],y:e[t][l.y]}))});return o},ee=(e,t,s,i,l)=>{let n=null;return"ok"==i.status&&"1D"==l&&t?(n={},Object.keys(e).map(s=>{n[s]=[parseFloat(e[s][t.PCA].toFixed(5))]})):"ok"==i.status&&"2D"==l&&(n={},Object.keys(e).map(t=>{n[t]=[parseFloat(e[t][s.x].toFixed(5)),parseFloat(e[t][s.y].toFixed(5))]})),n};s(13716);var et=s(19636);let es=(0,_.ZP)(B.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function ei(){let[e,t]=n.useState(!1),s=()=>{t(!1)};return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(x.Z,{"aria-label":"question",size:"large",onClick:()=>{t(!0)},children:(0,i.jsx)(U.Z,{fontSize:"inherit"})}),(0,i.jsxs)(es,{onClose:s,"aria-labelledby":"customized-dialog-title",open:e,maxWidth:"lg",sx:{zIndex:1e4},children:[(0,i.jsx)(H.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Principal Component Analysis (PCA)"}),(0,i.jsx)(x.Z,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,i.jsx)($.default,{})}),(0,i.jsxs)(N.Z,{sx:{textAlign:"justify"},dividers:!0,children:[(0,i.jsxs)(d.Z,{gutterBottom:!0,children:["This section allows users to explore and interpret the principal components of your omic data, helping to reveal patterns and reduce data dimensionality. The PCA section is organized by omic type, and users can navigate between different omics using the Omic Selector button at the top. Each omic subsection includes a ",(0,i.jsx)("strong",{children:"Statistical Summary Table"}),":"]}),(0,i.jsx)(l.Z,{sx:{pl:3},children:(0,i.jsxs)(q.Z,{sx:{listStyleType:"disc",listStyle:"outside"},children:[(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Principal Components"}),": The first row of the table displays the percentage of variability explained by each of the first ten principal components. This helps users understand how much of the total data variance is captured by each component."]}),(0,i.jsxs)(K.ZP,{sx:{display:"list-item",textAlign:"justify"},children:[(0,i.jsx)("strong",{children:"Regression p-values"}),": For each variable in your Experimental Metadata table, a row is included that shows the regression p-value between that variable and each principal component. These values indicate the strength of the relationship between the principal components and your experimental conditions, helping to identify significant associations."]})]})})]}),(0,i.jsx)(X.Z,{})]})]})}function el(){let{omics:e}=(0,o.tc)(),[t,s]=(0,n.useState)(e[0]),a=(0,n.useRef)();return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(l.Z,{sx:{position:"absolute"},children:(0,i.jsx)(ei,{})}),(0,i.jsx)(et.Z,{selOmic:t,setSelOmic:s,omicViewRef:a}),(0,i.jsx)(l.Z,{ref:a,sx:{overflow:"hidden"},children:(0,i.jsx)(l.Z,{sx:{display:"flex",width:"".concat(e.length,"00%")},children:e.map(s=>(0,i.jsx)(l.Z,{sx:{width:"".concat(100/e.length,"%"),opacity:s==t?1:0,transition:"all 1s ease"},children:(0,i.jsx)(Y,{omic:s})},s))})})]})}},92069:function(e,t,s){s.d(t,{LR:function(){return C},gB:function(){return Z},iL:function(){return l}});var i={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},l=e=>Object.assign({},i,e);class n extends Error{constructor(e){super(e),this.name="CsvGenerationError"}}class a extends Error{constructor(e){super(e),this.name="EmptyHeadersError"}}class o extends Error{constructor(e){super(e),this.name="CsvDownloadEnvironmentError"}}var r=e=>e,c=e=>e,d=e=>"object"==typeof e?r(e.key):r(e),u=e=>"object"==typeof e?r(e.displayLabel):r(e),x=(e,...t)=>t.reduce((e,t)=>t(e),e),p=e=>t=>e.useBom?r(c(t)+"\uFEFF"):t,h=e=>t=>e.showTitle?r(c(t)+e.title):t,m=e=>t=>r(c(e)+c(t)+"\r\n"),g=e=>(t,s)=>j(e)(r(t+s)),j=e=>t=>r(c(t)+e.fieldSeparator),y=(e,t)=>s=>{if(!e.showColumnHeaders)return s;if(t.length<1)throw new a("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let i=r("");for(let s=0;s<t.length;s++){let l=u(t[s]);i=g(e)(i,v(e,l))}return i=r(c(i).slice(0,-1)),m(s)(i)},b=(e,t,s)=>i=>{let l=i;for(var n=0;n<s.length;n++){let i=r("");for(let l=0;l<t.length;l++){let a=d(t[l]),o=void 0===s[n][c(a)]?e.replaceUndefinedWith:s[n][c(a)];i=g(e)(i,v(e,o))}i=r(c(i).slice(0,-1)),l=m(l)(i)}return l},f=e=>+e===e&&(!isFinite(e)||!!(e%1)),v=(e,t)=>{if("locale"===e.decimalSeparator&&f(t))return t.toLocaleString();if("."!==e.decimalSeparator&&f(t))return t.toString().replace(".",e.decimalSeparator);if("string"==typeof t){let s=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(s=e.quoteCharacter+t+e.quoteCharacter),s}if("boolean"==typeof t&&e.boolDisplay){let s=t?"true":"false";return e.boolDisplay[s]}return t},Z=e=>t=>{let s=l(e),i=s.useKeysAsHeaders?Object.keys(t[0]):s.columnHeaders,a=x(r(""),p(s),h(s),y(s,i),b(s,i,t));if(c(a).length<1)throw new n("Output is empty. Is your data formatted correctly?");return a},C=e=>t=>{if(!window)throw new o("Downloading only supported in a browser environment.");let s=l(e),i=c(t),n=s.useTextFile?"plain":"csv",a=s.useTextFile?"txt":"csv",r=new Blob([i],{type:`text/${n};charset=utf8;`}),d=document.createElement("a");d.download=`${s.filename}.${a}`,d.href=URL.createObjectURL(r),d.setAttribute("visibility","hidden"),document.body.appendChild(d),d.click(),document.body.removeChild(d)}}}]);