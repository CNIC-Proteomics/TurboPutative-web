"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{93202:function(e,t,l){var n=l(26314);t.Z=void 0;var a=n(l(80984)),i=l(57437),s=(0,a.default)((0,i.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.Z=s},19416:function(e,t,l){var n=l(26314);t.Z=void 0;var a=n(l(80984)),i=l(57437),s=(0,a.default)((0,i.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"ReportProblem");t.Z=s},26398:function(e,t,l){var n=l(26314);t.Z=void 0;var a=n(l(80984)),i=l(57437),s=(0,a.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=s},23589:function(e,t,l){l.r(t),l.d(t,{default:function(){return z}});var n=l(57437),a=l(96507),i=l(54986),s=l(54755),r=l(85269),o=l(2265);let d=e=>{let{title:t,view:l,setView:i,resetJobStatus:s={resetJobStatus:s}}=e,r=t==l,[d,c]=(0,o.useState)(!1),u="#00000015",p="#000000aa";return r?(u="#1976D2ff",p="#ffffff"):d&&(u="#00000033",p="#000000aa"),(0,n.jsx)(a.Z,{sx:{px:2,py:1,mx:.1,width:"50%",fontSize:"1.1em",textAlign:"center",cursor:"pointer",transition:"all 1s ease",backgroundColor:u,color:p},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>{s(),i(t)},children:t})};var c=e=>{let{view:t,setView:l,resetJobStatus:i}=e;return(0,n.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,n.jsxs)(a.Z,{sx:{display:"flex",width:350},children:[(0,n.jsx)(d,{title:"Single-View",view:t,setView:l,resetJobStatus:i}),(0,n.jsx)(d,{title:"Multi-View",view:t,setView:l,resetJobStatus:i})]})})},u=l(41637),p=l(64728),x=l(11093),m=l(49600),h=l(70812),f=l(67248),b=l(5096),g=l(35009),y=l(46349),j=l(64494),v=l(26398);let w={m:[{label:"ChEBI",id:"ChEBI"},{label:"KEGG",id:"KEGG"},{label:"PubChem (CID)",id:"PubChem"},{label:"HMDB",id:"HMDB"}],q:[{label:"Uniprot Protein ID",id:"Uniprot Protein ID"},{label:"Entrez ID",id:"Entrez ID"},{label:"Ensembl Gene ID",id:"Ensembl Gene ID"},{label:"Ensembl Transcript ID ",id:"Ensembl Transcript ID"},{label:"Official Gene Symbol",id:"Official Gene Symbol"}],t:[{label:"Uniprot Protein ID",id:"Uniprot Protein ID"},{label:"Entrez ID",id:"Entrez ID"},{label:"Ensembl Gene ID",id:"Ensembl Gene ID"},{label:"Ensembl Transcript ID ",id:"Ensembl Transcript ID"},{label:"Official Gene Symbol",id:"Official Gene Symbol"}]},Z=e=>{let{o:t,omicIdCol_i:l,setOmicIdCol_i:i,omicIdType_i:s,setOmicIdType_i:r,handleOmicIdChange:d}=e,{OMIC2NAME:c}=(0,x.S)(),p=(0,u.tc)().user["".concat(t,"2i")].columns.map(e=>({label:e,id:e}));return(0,n.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(h.Z,{value:l,onChange:(e,l)=>{i(l),d(t,l,s)},isOptionEqualToValue:(e,t)=>e.id===t.id,id:"omic-id-column",options:p,sx:{width:250},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"".concat(c[t]," ID Column")}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})}),(0,n.jsx)(a.Z,{sx:{mt:4},children:(0,n.jsxs)(b.Z,{fullWidth:!0,children:[(0,n.jsx)(g.Z,{id:"demo-simple-select-label",children:"ID Type"}),(0,n.jsx)(y.Z,{sx:{minWidth:"180px"},labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:s,label:"ID Type",onChange:e=>{r(e.target.value),d(t,l,e.target.value)},children:w[t].map(e=>(0,n.jsx)(j.Z,{value:e,children:e.label},e.id))})]})})]},t)};var C=function(e){let{setRId2info:t,fetchJobRun:i}=e,{omics:s,mdataType:d,OS:c,f2x:x}=(0,u.tc)(),b=(0,u.tc)().user,g=(0,p.mX)();(0,p.a0)().PWA;let y=b.mdata,[j,C]=(0,o.useState)(null),[I,S]=(0,o.useState)({isCategorical:!1,colOpts:[],g1:null,g2:null}),[O,E]=(0,o.useState)(s.reduce((e,t)=>({...e,[t]:null}),{})),[T,D]=(0,o.useState)(s.reduce((e,t)=>({...e,[t]:w[t][0]}),{})),[k,_]=(0,o.useState)(s.reduce((e,t)=>({...e,[t]:null}),{})),R=async(e,n,a)=>{if(console.log(e,n,a),!n){_(t=>({...t,[e]:null})),t(t=>({...t,[e]:{}}));return}let i=b["".concat(e,"2i")].column(n.id),s=x[e],r=i.index.filter((e,t)=>s[t]),o=i.values.filter((e,t)=>s[t]),d=[],u={},p={};if("m"==e){a.id;{let e=l(91794),t=o.map(t=>e[a.id].indexOf(t));(d=t.map(t=>e.ChEBI[t])).map((l,n)=>{l&&(p[l]={xId:r[n],uId:o[n],Name:e.Name[t[n]]})})}}else if("q"==e||"t"==e){a.id;{let e=[],t=await fetch("https://biit.cs.ut.ee/gprofiler/api/convert/convert/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organism:c.id,query:o,target:"UNIPROTSWISSPROT_ACC"})}),l=await t.json();e=l.result.filter(e=>"None"!=e.converted&&1==e.n_converted);let n=e.map(e=>e.incoming),a=await fetch("https://biit.cs.ut.ee/gprofiler/api/convert/convert/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organism:c.id,query:o.filter(e=>!n.includes(e)),target:"UNIPROTSPTREMBL_ACC"})}),i=await a.json();e.concat(i.result.filter(e=>"None"!=e.converted&&1==e.n_converted));let s={};r.map((e,t)=>s[e]=o[t]);let u={};e.map(e=>u[e.incoming]=e.converted),d=r.map(e=>u[s[e]]);let x={};o.map((e,t)=>x[e]=r[t]),e.map(e=>{p[e.converted]={uId:e.incoming,xId:x[e.incoming],name:e.name,description:e.description}})}}r.map((e,t)=>{d[t]&&(u[e]=d[t])}),_(t=>({...t,[e]:u})),t(t=>({...t,[e]:p}))};return(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-evenly",mt:4},children:[(0,n.jsxs)(a.Z,{sx:{width:"25%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(a.Z,{sx:{textAlign:"center",mt:7,position:"absolute",top:145},children:(0,n.jsx)(m.Z,{variant:"outlined",color:"primary",endIcon:(0,n.jsx)(v.Z,{}),disabled:!(j&&(!I.isCategorical||I.g1&&I.g2)&&Object.values(O).some(e=>e)),onClick:()=>i(j,I,k),children:"Run Analysis"})}),(0,n.jsx)(a.Z,{sx:{display:"flex"},children:(0,n.jsx)(h.Z,{value:j,onChange:(e,t)=>{t&&(C(t),g({type:"set-pwa-attr",attr:"mdataCol",value:t}),"categorical"==d[t.id].type?S(e=>({isCategorical:!0,colOpts:d[t.id].levels.map(e=>({label:e,id:e})),g1:null,g2:null})):S(e=>({isCategorical:!1,colOpts:[],g1:null,g2:null})))},isOptionEqualToValue:(e,t)=>e.id===t.id,id:"metadata-column",options:y.columns.map(e=>({label:e,id:e})),sx:{width:300},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"Metadata Column"}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})}),(0,n.jsxs)(a.Z,{sx:{display:"flex",mt:4,alignItems:"center",opacity:I.isCategorical?1:0,transition:"all 0.5s ease"},children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(h.Z,{value:I.g1,onChange:(e,t)=>S(e=>({...e,g1:t})),isOptionEqualToValue:(e,t)=>e.id===t.id,id:"metadata-column",options:I.colOpts,sx:{width:150},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"First Group"}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})}),(0,n.jsx)(a.Z,{sx:{px:2},children:(0,n.jsx)(r.Z,{children:"vs"})}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(h.Z,{value:I.g2,onChange:(e,t)=>S(e=>({...e,g2:t})),isOptionEqualToValue:(e,t)=>e.id===t.id,id:"metadata-column",options:I.colOpts,sx:{width:150},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"Second Group"}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})})]})]}),(0,n.jsx)(a.Z,{sx:{width:"2%",borderWidth:"0px 1.5px 0px 0px",borderStyle:"dashed",borderColor:"#aaaaaa"}}),(0,n.jsx)(a.Z,{sx:{width:"55%",display:"flex",justifyContent:"space-evenly"},children:s.map(e=>(0,n.jsx)(Z,{o:e,omicIdCol_i:O[e],setOmicIdCol_i:t=>E(l=>({...l,[e]:t})),omicIdType_i:T[e],setOmicIdType_i:t=>D(l=>({...l,[e]:t})),handleOmicIdChange:R},e))})]})},I=l(19416),S=l(47042),O=l(33457),E=l(92069),T=l(93202);let D={muiTableHeadCellProps:{align:"center"},muiTableBodyCellProps:{align:"center"},size:150};var k=function(e){let{runId:t,model_info:l,view:i,workingOmics:s}=e,{OMIC2NAME:d,API_URL:c}=(0,x.S)(),{jobID:p}=(0,u.tc)(),[h,f]=(0,o.useState)({status:"ready"}),b=(0,o.useRef)(),g=(0,o.useCallback)(async e=>{console.log("fetching stats model");let t=await fetch("".concat(c,"/get_stats_model/").concat(p,"/").concat(i,"/").concat(e)),l=await t.json();console.log(l),"waiting"!=l.status&&(f(l),clearInterval(b.current))},[c,p,i,b]);(0,o.useEffect)(()=>{if(console.log("useEffect"),"ready"!=h.status)return;let e=setInterval(()=>g(t),5e3);return b.current=e,()=>clearInterval(e)},[g,b,h,t]);let y=(0,o.useMemo)(()=>{let e=[];return"Multi-View"==i&&(e=s.map(e=>({header:"".concat(d[e]," (%)"),id:e,accessorFn:t=>(100*t.omic_weight[d[e]]).toFixed(2),...D}))),e},[s,d,i]),j=(0,o.useMemo)(()=>[{accessorKey:"LV",header:"Latent Variable",...D},...y,{id:"R2",header:"R2",accessorFn:e=>"".concat(Math.round(1e4*e.R2)/1e4),...D},{id:"pv",header:"p-value",accessorFn:e=>"".concat(e.pv<1e-4?e.pv.toExponential(2):e.pv.toFixed(5)),...D}],[y]),v=(0,O.X0)({columns:j,data:l.LV,enableColumnFilterModes:!1,enableColumnOrdering:!1,enableGrouping:!1,enableColumnPinning:!1,enableFacetedValues:!1,enableRowActions:!1,enableRowSelection:!1,enableGlobalFilter:!1,enableColumnActions:!1,enableSorting:!1,enableDensityToggle:!1,enableHiding:!1,enableFullScreenToggle:!1,enableFilters:!1,enableBottomToolbar:!1,renderTopToolbarCustomActions:e=>{let{table:t}=e;return(0,n.jsxs)(a.Z,{sx:{width:"100%",display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)(a.Z,{sx:{border:"0px solid red"},children:(0,n.jsx)(m.Z,{onClick:()=>(function(e,t,l){let n=(0,E.iL)({fieldSeparator:",",decimalSeparator:".",columnHeaders:t,filename:l}),a=(0,E.gB)(n)(e);(0,E.LR)(n)(a)})(t.getRowModel().rows.map(e=>e._valuesCache),t.getAllColumns().map(e=>({key:e.columnDef.id,displayLabel:e.columnDef.header})),"PathwayAnalysis_Model"),startIcon:(0,n.jsx)(T.Z,{}),children:"Export Table"})}),(0,n.jsxs)(a.Z,{sx:{border:"0px solid red",textAlign:"center"},children:[(0,n.jsxs)(r.Z,{variant:"body1",children:["Model R2 = ",l.model.R2.toFixed(4)]}),(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsxs)(r.Z,{variant:"body1",sx:{border:"0px solid blue"},children:["p-value ","â‰¤"," "]}),(0,n.jsxs)(a.Z,{sx:{pl:.75},children:[["ready","waiting"].includes(h.status)&&(0,n.jsx)(a.Z,{sx:{pt:.5},children:(0,n.jsx)(S.Z,{size:15,disableShrink:!0})}),"ok"==h.status&&(0,n.jsx)(r.Z,{variant:"body1",children:h.statsModel.R2pv})]})]})]})]})}});return(0,n.jsx)(a.Z,{children:(0,n.jsx)(O.P2,{table:v})})},_=l(35048),R=l(41125),M=l(16573),V=l(24235),A=l(33343),L=l(50039),P=l(79857),F=l(89366),G=l(90053);let q=e=>{let{selectedLV:t,setSelectedLV:l,projOpts:i}=e;return(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)(a.Z,{sx:{px:2},children:(0,n.jsx)(h.Z,{value:t.x,onChange:(e,t)=>t&&l(e=>({...e,x:t})),isOptionEqualToValue:(e,t)=>e.id===t.id,id:"xAxis",options:i,sx:{width:120},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"X Axis"}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})}),(0,n.jsx)(a.Z,{sx:{px:2},children:(0,n.jsx)(h.Z,{value:t.y,onChange:(e,t)=>t&&l(e=>({...e,y:t})),isOptionEqualToValue:(e,t)=>e.id===t.id,id:"yAxis",options:i,sx:{width:120},renderInput:e=>(0,n.jsx)(f.Z,{...e,label:"Y Axis"}),renderOption:(e,t)=>(0,o.createElement)("li",{...e,key:t.label},t.label)})})]})};var B=function(e){let{projections:t,nLV:l,mdataCategorical:i}=e;console.log(i);let s=(0,u.tc)().user.mdata.column(i.mdataCol),r=(0,o.useMemo)(()=>t.map(e=>({sample:e.sample,g:s.values[s.index.indexOf(e.sample)],...e.proj.reduce((e,t,l)=>({...e,["LV".concat(l+1)]:t}),{})})),[t,s]),d=(0,o.useMemo)(()=>{let e=[];for(let t=1;t<=l;t++)e.push("LV".concat(t));return e.map(e=>({label:e,id:e}))},[l]),[c,p]=(0,o.useState)({x:d[0],y:d[1]});return console.log(c),(0,n.jsxs)(a.Z,{sx:{},children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(q,{selectedLV:c,setSelectedLV:p,projOpts:d})}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(_.h,{width:"100%",height:400,children:(0,n.jsxs)(R.G,{margin:{top:5,right:20,bottom:20,left:20},children:[(0,n.jsx)(M.q,{}),(0,n.jsx)(V.K,{type:"number",dataKey:c.x.label,name:c.x.label,children:(0,n.jsx)(A._,{value:"".concat(c.x.label),offset:-10,position:"insideBottom"})}),(0,n.jsx)(L.B,{type:"number",dataKey:c.y.label,name:c.y.label,children:(0,n.jsx)(A._,{value:c.y.label,offset:20,position:"insideLeft",angle:-90})}),(0,n.jsx)(P.D,{verticalAlign:"top"}),(0,n.jsx)(F.b,{name:i.g1.id,data:r.filter(e=>e.g==i.g1.id),fill:G.s[0]}),(0,n.jsx)(F.b,{name:i.g2.id,data:r.filter(e=>e.g==i.g2.id),fill:G.s[1]})]})})})]})},H=function(e){let{pwa_res:t,runId:l,rId2info:i,view:s,workingOmics:r,mdataCategorical:o}=e;return console.log(t),(0,n.jsx)(a.Z,{children:(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(a.Z,{sx:{width:"50%"},children:(0,n.jsx)(k,{runId:l,model_info:t.model_info,view:s,workingOmics:r})}),(0,n.jsx)(a.Z,{sx:{width:"50%"},children:(0,n.jsx)(B,{projections:t.projections,nLV:t.model_info.LV.length,mdataCategorical:o})})]})})},z=function(){let[e,t]=(0,o.useState)("Single-View"),{API_URL:l}=(0,x.S)(),{omics:d,jobID:p,OS:m}=(0,u.tc)(),[h,f]=(0,o.useState)(d.reduce((e,t)=>({...e,[t]:{}}),{})),b=(0,o.useRef)(),[g,y]=(0,o.useState)({status:"",res:null,runId:null}),[j,v]=(0,o.useState)([]),[w,Z]=(0,o.useState)(),S=(0,o.useCallback)(async t=>{let n=await fetch("".concat(l,"/get_pathway_analysis/").concat(p,"/").concat(e,"/").concat(t)),a=await n.json();"waiting"!=a.status&&(console.log("Pathway analysis finished: ",a),y(a),clearInterval(b.current))},[b,e,l,p]),O=(0,o.useCallback)(async(t,n,a)=>{console.log("Send job to back-end");let i=new Date().getTime(),s=await fetch("".concat(l,"/run_pathway_analysis/").concat(p,"/").concat(i),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({col:t.id,type:n.isCategorical?"categorical":"numeric",val1:n.g1.id,val2:n.g2.id,f2id:a,view:e,OS:m.scientific_name.replace(" ","_")})}),r=await s.json();console.log(r),y({status:"waiting",res:null,runId:r.runId}),b.current=setInterval(()=>S(r.runId),5e3),v(Object.keys(a).filter(e=>a[e])),Z({...n,mdataCol:t.id})},[e,v,y,Z,l,m,S,p]);return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(a.Z,{sx:{pt:3},children:(0,n.jsx)(c,{view:e,setView:t,resetJobStatus:()=>y({status:"",res:null,runId:null})})}),(0,n.jsx)(C,{setRId2info:f,fetchJobRun:O}),(0,n.jsx)(i.Z,{sx:{py:4,color:"black"},children:" "}),"waiting"==g.status&&(0,n.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(a.Z,{sx:{width:"50%",pt:10},children:(0,n.jsx)(s.Z,{sx:{height:"2px"}})})}),"ok"==g.status&&(0,n.jsx)(H,{pwa_res:g.pwa_res,runId:g.runId,rId2info:h,view:e,workingOmics:j,mdataCategorical:w}),"error"==g.status&&(0,n.jsx)(a.Z,{children:(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",pt:10},children:[(0,n.jsx)(I.Z,{sx:{fontSize:25}}),(0,n.jsx)(r.Z,{variant:"h6",sx:{px:2},children:"An error occurred when executing Pathway Analysis."})]})})]})}},92069:function(e,t,l){l.d(t,{LR:function(){return Z},gB:function(){return w},iL:function(){return a}});var n={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},a=e=>Object.assign({},n,e);class i extends Error{constructor(e){super(e),this.name="CsvGenerationError"}}class s extends Error{constructor(e){super(e),this.name="EmptyHeadersError"}}class r extends Error{constructor(e){super(e),this.name="CsvDownloadEnvironmentError"}}var o=e=>e,d=e=>e,c=e=>"object"==typeof e?o(e.key):o(e),u=e=>"object"==typeof e?o(e.displayLabel):o(e),p=(e,...t)=>t.reduce((e,t)=>t(e),e),x=e=>t=>e.useBom?o(d(t)+"\uFEFF"):t,m=e=>t=>e.showTitle?o(d(t)+e.title):t,h=e=>t=>o(d(e)+d(t)+"\r\n"),f=e=>(t,l)=>b(e)(o(t+l)),b=e=>t=>o(d(t)+e.fieldSeparator),g=(e,t)=>l=>{if(!e.showColumnHeaders)return l;if(t.length<1)throw new s("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let n=o("");for(let l=0;l<t.length;l++){let a=u(t[l]);n=f(e)(n,v(e,a))}return n=o(d(n).slice(0,-1)),h(l)(n)},y=(e,t,l)=>n=>{let a=n;for(var i=0;i<l.length;i++){let n=o("");for(let a=0;a<t.length;a++){let s=c(t[a]),r=void 0===l[i][d(s)]?e.replaceUndefinedWith:l[i][d(s)];n=f(e)(n,v(e,r))}n=o(d(n).slice(0,-1)),a=h(a)(n)}return a},j=e=>+e===e&&(!isFinite(e)||!!(e%1)),v=(e,t)=>{if("locale"===e.decimalSeparator&&j(t))return t.toLocaleString();if("."!==e.decimalSeparator&&j(t))return t.toString().replace(".",e.decimalSeparator);if("string"==typeof t){let l=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(l=e.quoteCharacter+t+e.quoteCharacter),l}if("boolean"==typeof t&&e.boolDisplay){let l=t?"true":"false";return e.boolDisplay[l]}return t},w=e=>t=>{let l=a(e),n=l.useKeysAsHeaders?Object.keys(t[0]):l.columnHeaders,s=p(o(""),x(l),m(l),g(l,n),y(l,n,t));if(d(s).length<1)throw new i("Output is empty. Is your data formatted correctly?");return s},Z=e=>t=>{if(!window)throw new r("Downloading only supported in a browser environment.");let l=a(e),n=d(t),i=l.useTextFile?"plain":"csv",s=l.useTextFile?"txt":"csv",o=new Blob([n],{type:`text/${i};charset=utf8;`}),c=document.createElement("a");c.download=`${l.filename}.${s}`,c.href=URL.createObjectURL(o),c.setAttribute("visibility","hidden"),document.body.appendChild(c),c.click(),document.body.removeChild(c)}}}]);