(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{59393:function(e,t,r){Promise.resolve().then(r.bind(r,11093)),Promise.resolve().then(r.bind(r,28325)),Promise.resolve().then(r.bind(r,95266))},28325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(57437),s=r(42824),a=r(57380),l=r(87550),i=r(71065),o=r(11093),c=r(16691),d=r.n(c);function u(){let e=(0,o.useVars)().BASE_URL;return(0,n.jsxs)(l.Z,{bg:"dark","data-bs-theme":"dark",className:"bg-body-tertiary",style:{fontSize:"1.2em"},children:[(0,n.jsxs)(s.Z,{className:"mx-0",children:[(0,n.jsx)(l.Z.Brand,{href:"#home",children:(0,n.jsx)(d(),{src:"".concat(e,"/icon.ico"),width:"30",height:"30",className:"d-inline-block align-top",alt:"TurboPutative"})}),(0,n.jsx)(l.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,n.jsx)(l.Z.Collapse,{id:"basic-navbar-nav",children:(0,n.jsxs)(a.Z,{className:"me-auto",children:[(0,n.jsx)(a.Z.Link,{href:"home",className:"mx-2",children:"Home"}),(0,n.jsx)(a.Z.Link,{href:"turboomics.html",active:!0,className:"mx-2",children:"TurboOmics"}),(0,n.jsx)(a.Z.Link,{href:"webserver",className:"mx-2",children:"Web Server"}),(0,n.jsx)(a.Z.Link,{href:"webservices",className:"mx-2",children:"Web Services"}),(0,n.jsxs)(i.Z,{title:"Help",id:"basic-nav-dropdown",children:[(0,n.jsx)(i.Z.Item,{href:"webserverhelp",children:"Web Server"}),(0,n.jsx)(i.Z.Item,{href:"webserviceshelp",children:"Web Services"}),(0,n.jsx)(i.Z.Divider,{}),(0,n.jsx)(i.Z.Item,{href:"moduleshelp",children:"Modules"})]}),(0,n.jsx)(a.Z.Link,{href:"contactUs",className:"mx-2",children:"Contact us"})]})})]}),(0,n.jsx)(l.Z.Collapse,{className:"justify-content-end",children:(0,n.jsx)(l.Z.Brand,{href:"home",style:{fontSize:"1.2em"},children:"TurboPutative"})})]})}},11093:function(e,t,r){"use strict";r.r(t),r.d(t,{VarsProvider:function(){return l},useVars:function(){return i}});var n=r(57437),s=r(2265);let a=(0,s.createContext)({BASE_URL:"/turboputative",API_URL:"http://localhost:8080/turboputative/api/tbomics"});function l(e){let{children:t}=e,r=i();return(0,n.jsx)(a.Provider,{value:r,children:t})}function i(){return(0,s.useContext)(a)}},95266:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var n=r(57437),s=r(2265),a=r(24983),l=r(59844);function i(e){let{children:t}=e;return(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeOut",duration:.5},children:t})}var o=r(49904),c=r(58991),d=r(62455),u=r(15133),h=r(43226),x=r(35843);function m(e){let{page:t,setPage:r,job:s}=e;return(0,n.jsxs)("div",{className:"my-2 d-flex justify-content-center",children:[(0,n.jsx)(p,{text:"New Job",id:"new-job",setPage:r,page:t,children:(0,n.jsx)(o.Z,{})}),(0,n.jsx)(p,{text:"Find Job",id:"find-job",setPage:r,page:t,children:(0,n.jsx)(c.Z,{})}),(0,n.jsx)(p,{text:"Results",id:"results",setPage:r,page:t,children:(0,n.jsx)(d.Z,{})})]})}let j=(0,x.ZP)(u.Z)(e=>{let{theme:t}=e;return{transition:"transform 0.15s ease-in-out, background 0.15s","&:hover":{transform:"scale3d(1.05, 1.05, 1)",backgroundColor:"rgba(204, 229, 255, 0.8)"}}});function p(e){let t,{children:r,text:s,id:l,setPage:i,page:o}=e,c=(0,a.tc)(),d="results"==l&&null==c.jobID;t=d?"rgba(210,210,210,0.8)":o==l?"rgba(204, 229, 255, 0.8)":"rgba(255,255,255,1)";let x={width:110,height:70,textAlign:"center",backgroundColor:t,cursor:d?"not-allowed":"pointer",userSelect:"none",margin:"0px 15px"};return(0,n.jsx)(n.Fragment,{children:d?(0,n.jsxs)(u.Z,{sx:x,children:[(0,n.jsx)("div",{className:"py-2",children:r}),(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{gutterBottom:!0,variant:"h7",component:"div",children:s})})]}):(0,n.jsxs)(j,{sx:x,onClick:()=>i(l),children:[(0,n.jsx)("div",{className:"py-2",children:r}),(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{gutterBottom:!0,variant:"h7",component:"div",children:s})})]})})}var f=r(96507),g=r(11922),b=r(89394),v=r(91797),N=r(26337),Z=r(81485),P=r(6252),y=r(33533),w=r(11093);r(16691);let C=(0,x.ZP)(b.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function A(e){let{title:t}=e,[r,a]=(0,s.useState)(!1),l=()=>a(!1),i=(0,w.useVars)().BASE_URL;return(0,n.jsxs)("div",{className:"mt-0 pt-0",children:[(0,n.jsx)(Z.Z,{onClick:()=>a(!0),children:(0,n.jsx)(P.Z,{})}),(0,n.jsxs)(C,{onClose:l,"aria-labelledby":"customized-dialog-title",open:r,maxWidth:"md",children:[(0,n.jsxs)(v.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:[t," Table"]}),(0,n.jsx)(Z.Z,{"aria-label":"close",onClick:l,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,n.jsx)(y.Z,{})}),(0,n.jsxs)(N.Z,{dividers:!0,children:[(0,n.jsx)(h.Z,{gutterBottom:!0,children:"Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1"}),(0,n.jsx)(h.Z,{gutterBottom:!0,children:"Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2"}),(0,n.jsx)("div",{className:"text-center mt-3",children:(0,n.jsx)("img",{src:"".concat(i,"/table.png"),alt:"Table"})})]})]})]})}let k=["","#N/A","#N/A","N/A","#NA","-1.#IND","-1.#QNAN","-NaN","-nan","1.#IND","1.#QNAN","<NA>","N/A","NA","NULL","NaN","None","n/a","nan","null"],S=["TSV"];function L(e){let{title:t,fileName:r}=e,[l,i]=(0,s.useState)(null),o=(0,a.Lq)();async function c(e){i(e);let t=await e.text(),n=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"	";return new Promise(r=>{let n=e.trim().split(/[\r\n]+/);if(n.length<2)throw Error("String text does not have expected DataFrame format");let s=n[0].split(t).map(e=>e.trim()),a=[];for(let e=1;e<n.length;e++){let r=n[e].split(t).map(e=>e.trim());if(r.length===s.length){let e={};for(let t=0;t<s.length;t++)e[s[t]]=k.includes(r[t])?void 0:r[t];a.push(e)}else console.log("Row number ".concat(e," could not be read"))}let l=new dfd.DataFrame(a).setIndex({column:s[0]});l.drop({columns:[s[0]],inplace:!0}),r(l)})}(t);o({type:"user-upload",fileType:r,df:n}),("xq"==r||"xm"==r)&&o({type:"get-mv-data",fileType:r,df:n})}return(0,n.jsx)("div",{className:"DragFile mx-2 text-center",style:{width:"30%"},children:(0,n.jsxs)(u.Z,{variant:"outlined",className:"px-4",children:[(0,n.jsx)(h.Z,{variant:"h5",className:"pt-2",children:t}),(0,n.jsx)(A,{title:t}),(0,n.jsx)(g.b,{multiple:!1,handleChange:c,name:r,types:S}),(0,n.jsx)("p",{className:"mt-3",children:l?"File name: ".concat(l.name):"no files uploaded yet"})]})})}var T=r(73701),E=r(39279),M=r(30666),R=r(15795),q=r(98489),D=r(29872),I=r(39190);let V=(0,I.Z)(M.Z)(e=>{let{theme:t}=e;return{textAlign:"center"}});function _(){let e=(0,a.tc)();return(0,n.jsx)("div",{children:(0,n.jsx)(R.Z,{component:D.Z,sx:{width:250},children:(0,n.jsx)(T.Z,{size:"small","aria-label":"a dense table",children:(0,n.jsxs)(E.Z,{children:[null!=e.user.mdata&&(0,n.jsxs)(q.Z,{children:[(0,n.jsx)(V,{children:"Observations"}),(0,n.jsx)(V,{children:e.user.mdata.shape[0]})]}),null!=e.user.xq&&(0,n.jsxs)(q.Z,{children:[(0,n.jsx)(V,{children:"Proteins"}),(0,n.jsx)(V,{children:e.user.xq.shape[1]})]}),null!=e.user.xm&&(0,n.jsxs)(q.Z,{children:[(0,n.jsx)(V,{children:"Features"}),(0,n.jsx)(V,{children:e.user.xm.shape[1]})]})]})})})})}var F=r(98864),B=r.n(F);let J=B()(()=>Promise.all([r.e(89),r.e(508)]).then(r.bind(r,38508)),{loadableGenerated:{webpack:()=>[38508]},ssr:!1});function O(){return(0,n.jsxs)(f.Z,{sx:{width:"100%"},className:"p-4",children:[(0,n.jsxs)("div",{className:"py-4 d-flex justify-content-between",children:[(0,n.jsx)(L,{title:"Proteomic Metadata",fileName:"q2i"}),(0,n.jsx)(L,{title:"Metadata",fileName:"mdata"}),(0,n.jsx)(L,{title:"Metabolomic Metadata",fileName:"m2i"})]}),(0,n.jsxs)("div",{className:"py-4 d-flex justify-content-between align-items-center",children:[(0,n.jsx)(L,{title:"Proteomic Quantifications",fileName:"xq"}),(0,n.jsx)(_,{}),(0,n.jsx)(L,{title:"Metabolomic Quantifications",fileName:"xm"})]}),(0,n.jsxs)("div",{className:"py-4 d-flex justify-content-between align-items-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)(J,{fileName:"xq"})}),(0,n.jsx)("div",{children:(0,n.jsx)(J,{fileName:"xm"})})]})]})}var U=r(19130);function z(e){let{setPage:t}=e,[r,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!0),d=(0,a.Lq)(),u=(0,w.useVars)().API_URL;async function h(e){console.log("Search Job ID: ".concat(e));let r=await fetch("".concat(u,"/search/").concat(e)),n=await r.json();console.log("Server response received:"),console.log(n),n.exist?(d({type:"find-job",results:n.results}),t("results")):o(!1)}return(0,n.jsx)("div",{className:"mx-auto mt-4 text-center",children:(0,n.jsx)(U.Z,{id:"outlined-basic",label:"Search Job",variant:"outlined",onChange:e=>{l(e.target.value),o(!0)},value:r,InputProps:{endAdornment:(0,n.jsx)(()=>(0,n.jsx)(Z.Z,{onClick:()=>h(r),children:(0,n.jsx)(c.Z,{})}),{})},sx:{width:"70%",marginTop:"20%"},autoFocus:!0,error:!i,helperText:!i&&"Job not found"})})}function W(){let e=(0,a.tc)();return console.log(e),(0,n.jsx)("div",{children:"Results"})}function Q(){let[e,t]=(0,s.useState)("new-job");return(0,n.jsx)("div",{children:(0,n.jsxs)(a.JV,{children:[(0,n.jsx)(m,{page:e,setPage:t}),"new-job"==e&&(0,n.jsx)(i,{children:(0,n.jsx)(O,{})}),"find-job"==e&&(0,n.jsx)(i,{children:(0,n.jsx)(z,{setPage:t})}),"results"==e&&(0,n.jsx)(i,{children:(0,n.jsx)(W,{})})]})})}},24983:function(e,t,r){"use strict";r.d(t,{JV:function(){return d},Lq:function(){return c},tc:function(){return o}});var n=r(57437),s=r(2265),a=r(36970);let l=(0,s.createContext)(null),i=(0,s.createContext)(null);function o(){return(0,s.useContext)(l)}function c(){return(0,s.useContext)(i)}function d(e){let{children:t}=e,[r,s]=(0,a.C)(u,h);return(0,n.jsx)(l.Provider,{value:r,children:(0,n.jsx)(i.Provider,{value:s,children:t})})}function u(e,t){switch(console.log("jobReducer called: ".concat(t.type)),t.type){case"find-job":return t.results;case"user-upload":e.user[t.fileType]=t.df;case"get-mv-data":{let r=t.df;r=r.isNa().sum({axis:0}).div(r.shape[0]);let n=function(e,t,r){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r)throw Error("All arguments must be numbers");if(e>t&&r>0)throw Error('The "step" value must be negative if "start" is greater than "end"');if(e<t&&r<0)throw Error('The "step" value must be positive if "start" is less than "end"');let n=[],s=e;for(;e<=t&&s<=t||e>=t&&s>=t;)n.push(s),s+=r;return n}(0,1,.05);n=n.map(e=>({MVThr:Math.round(100*e)/100,Features:r.lt(e).sum()})),e.results.PRE.MV[t.fileType]=n}}}let h={jobID:null,user:{xq:null,xm:null,mdata:null,q2i:null,m2i:null},results:{PRE:{MV:{xq:null,xm:null}},EDA:null,MOFA:null,CORR:null,ML:null}}}},function(e){e.O(0,[550,971,596,744],function(){return e(e.s=59393)}),_N_E=e.O()}]);