(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5154:function(e,t,n){Promise.resolve().then(n.bind(n,1093)),Promise.resolve().then(n.bind(n,9864)),Promise.resolve().then(n.bind(n,1764))},1764:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),a=n(2824),s=n(7380),l=n(7550),i=n(1065),c=n(1093),o=n(6691),d=n.n(o);function u(){let e=(0,c.useVars)().BASE_URL;return(0,r.jsxs)(l.Z,{bg:"dark","data-bs-theme":"dark",className:"bg-body-tertiary",style:{fontSize:"1.2em"},children:[(0,r.jsxs)(a.Z,{className:"mx-0",children:[(0,r.jsx)(l.Z.Brand,{href:"#home",children:(0,r.jsx)(d(),{src:"".concat(e,"/icon.ico"),width:"30",height:"30",className:"d-inline-block align-top",alt:"TurboPutative"})}),(0,r.jsx)(l.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,r.jsx)(l.Z.Collapse,{id:"basic-navbar-nav",children:(0,r.jsxs)(s.Z,{className:"me-auto",children:[(0,r.jsx)(s.Z.Link,{href:"home",className:"mx-2",children:"Home"}),(0,r.jsx)(s.Z.Link,{href:"turboomics.html",active:!0,className:"mx-2",children:"TurboOmics"}),(0,r.jsx)(s.Z.Link,{href:"webserver",className:"mx-2",children:"Web Server"}),(0,r.jsx)(s.Z.Link,{href:"webservices",className:"mx-2",children:"Web Services"}),(0,r.jsxs)(i.Z,{title:"Help",id:"basic-nav-dropdown",children:[(0,r.jsx)(i.Z.Item,{href:"webserverhelp",children:"Web Server"}),(0,r.jsx)(i.Z.Item,{href:"webserviceshelp",children:"Web Services"}),(0,r.jsx)(i.Z.Divider,{}),(0,r.jsx)(i.Z.Item,{href:"moduleshelp",children:"Modules"})]}),(0,r.jsx)(s.Z.Link,{href:"contactUs",className:"mx-2",children:"Contact us"})]})})]}),(0,r.jsx)(l.Z.Collapse,{className:"justify-content-end",children:(0,r.jsx)(l.Z.Brand,{href:"home",style:{fontSize:"1.2em"},children:"TurboPutative"})})]})}},1093:function(e,t,n){"use strict";n.r(t),n.d(t,{VarsProvider:function(){return l},useVars:function(){return i}});var r=n(7437),a=n(2265);let s=(0,a.createContext)({BASE_URL:"/turboputative",API_URL:"http://localhost:8080/turboputative/api/tbomics"});function l(e){let{children:t}=e,n=i();return(0,r.jsx)(s.Provider,{value:n,children:t})}function i(){return(0,a.useContext)(s)}},9864:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(7437),a=n(2265),s=n(6970);let l=(0,a.createContext)(null),i=(0,a.createContext)(null);function c(){return(0,a.useContext)(l)}function o(){return(0,a.useContext)(i)}function d(e){let{children:t}=e,[n,a]=(0,s.C)(u,h);return(0,r.jsx)(l.Provider,{value:n,children:(0,r.jsx)(i.Provider,{value:a,children:t})})}function u(e,t){switch(console.log("jobReducer called: ".concat(t.type)),t.type){case"find-job":return t.results;case"user-upload":e.user[t.fileType]=t.df}}let h={jobID:null,user:{xq:null,xm:null,mdata:null,q2i:null,m2i:null},results:{EDA:null,MOFA:null,CORR:null,ML:null}};var x=n(9844);function m(e){let{children:t}=e;return(0,r.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:"easeOut",duration:.5},children:t})}var j=n(9904),p=n(8991),g=n(2455),f=n(5133),b=n(3226),v=n(5843);function N(e){let{page:t,setPage:n,job:a}=e;return(0,r.jsxs)("div",{className:"my-2 d-flex justify-content-center",children:[(0,r.jsx)(P,{text:"New Job",id:"new-job",setPage:n,page:t,children:(0,r.jsx)(j.Z,{})}),(0,r.jsx)(P,{text:"Find Job",id:"find-job",setPage:n,page:t,children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(P,{text:"Results",id:"results",setPage:n,page:t,children:(0,r.jsx)(g.Z,{})})]})}let Z=(0,v.ZP)(f.Z)(e=>{let{theme:t}=e;return{transition:"transform 0.15s ease-in-out, background 0.15s","&:hover":{transform:"scale3d(1.05, 1.05, 1)",backgroundColor:"rgba(204, 229, 255, 0.8)"}}});function P(e){let t,{children:n,text:a,id:s,setPage:l,page:i}=e,o=c(),d="results"==s&&null==o.jobID;t=d?"rgba(210,210,210,0.8)":i==s?"rgba(204, 229, 255, 0.8)":"rgba(255,255,255,1)";let u={width:110,height:70,textAlign:"center",backgroundColor:t,cursor:d?"not-allowed":"pointer",userSelect:"none",margin:"0px 15px"};return(0,r.jsx)(r.Fragment,{children:d?(0,r.jsxs)(f.Z,{sx:u,children:[(0,r.jsx)("div",{className:"py-2",children:n}),(0,r.jsx)("div",{children:(0,r.jsx)(b.Z,{gutterBottom:!0,variant:"h7",component:"div",children:a})})]}):(0,r.jsxs)(Z,{sx:u,onClick:()=>l(s),children:[(0,r.jsx)("div",{className:"py-2",children:n}),(0,r.jsx)("div",{children:(0,r.jsx)(b.Z,{gutterBottom:!0,variant:"h7",component:"div",children:a})})]})})}var w=n(6507),y=n(1922),C=n(9394),A=n(1797),S=n(6337),k=n(1485),L=n(6252),D=n(3533),I=n(1093);n(6691);let R=(0,v.ZP)(C.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function T(e){let{title:t}=e,[n,s]=(0,a.useState)(!1),l=()=>s(!1),i=(0,I.useVars)().BASE_URL;return(0,r.jsxs)("div",{className:"mt-0 pt-0",children:[(0,r.jsx)(k.Z,{onClick:()=>s(!0),children:(0,r.jsx)(L.Z,{})}),(0,r.jsxs)(R,{onClose:l,"aria-labelledby":"customized-dialog-title",open:n,maxWidth:"md",children:[(0,r.jsxs)(A.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:[t," Table"]}),(0,r.jsx)(k.Z,{"aria-label":"close",onClick:l,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,r.jsx)(D.Z,{})}),(0,r.jsxs)(S.Z,{dividers:!0,children:[(0,r.jsx)(b.Z,{gutterBottom:!0,children:"Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1Paragraph 1"}),(0,r.jsx)(b.Z,{gutterBottom:!0,children:"Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2Paragraph 2"}),(0,r.jsx)("div",{className:"text-center mt-3",children:(0,r.jsx)("img",{src:"".concat(i,"/table.png"),alt:"Table"})})]})]})]})}let _=["","#N/A","#N/A","N/A","#NA","-1.#IND","-1.#QNAN","-NaN","-nan","1.#IND","1.#QNAN","<NA>","N/A","NA","NULL","NaN","None","n/a","nan","null"],M=["TSV"];function B(e){let{title:t,fileName:n}=e,[s,l]=(0,a.useState)(null),i=o();async function c(e){l(e);let t=await e.text();i({type:"user-upload",fileType:n,df:await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"	";return new Promise(n=>{let r=e.trim().split(/[\r\n]+/);if(r.length<2)throw Error("String text does not have expected DataFrame format");let a=r[0].split(t).map(e=>e.trim()),s=[];for(let e=1;e<r.length;e++){let n=r[e].split(t).map(e=>e.trim());if(n.length===a.length){let e={};for(let t=0;t<a.length;t++)e[a[t]]=_.includes(n[t])?void 0:n[t];s.push(e)}else console.log("Row number ".concat(e," could not be read"))}let l=new dfd.DataFrame(s).setIndex({column:a[0]});l.drop({columns:[a[0]],inplace:!0}),n(l)})}(t)})}return(0,r.jsx)("div",{className:"DragFile mx-2 text-center",style:{width:"30%"},children:(0,r.jsxs)(f.Z,{variant:"outlined",className:"px-4",children:[(0,r.jsx)(b.Z,{variant:"h5",className:"pt-2",children:t}),(0,r.jsx)(T,{title:t}),(0,r.jsx)(y.b,{multiple:!1,handleChange:c,name:n,types:M}),(0,r.jsx)("p",{className:"mt-3",children:s?"File name: ".concat(s.name):"no files uploaded yet"})]})})}var E=n(3701),F=n(9279),O=n(666),U=n(5795),q=n(8489),V=n(9872),z=n(9190);let J=(0,z.Z)(O.Z)(e=>{let{theme:t}=e;return{textAlign:"center"}});function W(){let e=c();return(0,r.jsx)("div",{children:(0,r.jsx)(U.Z,{component:V.Z,sx:{width:250},children:(0,r.jsx)(E.Z,{size:"small","aria-label":"a dense table",children:(0,r.jsxs)(F.Z,{children:[null!=e.user.mdata&&(0,r.jsxs)(q.Z,{children:[(0,r.jsx)(J,{children:"Observations"}),(0,r.jsx)(J,{children:e.user.mdata.shape[0]})]}),null!=e.user.xq&&(0,r.jsxs)(q.Z,{children:[(0,r.jsx)(J,{children:"Proteins"}),(0,r.jsx)(J,{children:e.user.xq.shape[1]})]}),null!=e.user.xm&&(0,r.jsxs)(q.Z,{children:[(0,r.jsx)(J,{children:"Features"}),(0,r.jsx)(J,{children:e.user.xm.shape[1]})]})]})})})})}function Q(){return(0,r.jsxs)(w.Z,{sx:{width:"100%"},className:"p-4",children:[(0,r.jsxs)("div",{className:"py-4 d-flex justify-content-between",children:[(0,r.jsx)(B,{title:"Proteomic Metadata",fileName:"q2i"}),(0,r.jsx)(B,{title:"Metadata",fileName:"mdata"}),(0,r.jsx)(B,{title:"Metabolomic Metadata",fileName:"m2i"})]}),(0,r.jsxs)("div",{className:"py-4 d-flex justify-content-between align-items-center",children:[(0,r.jsx)(B,{title:"Proteomic Quantifications",fileName:"xq"}),(0,r.jsx)(W,{}),(0,r.jsx)(B,{title:"Metabolomic Quantifications",fileName:"xm"})]})]})}var H=n(9130);function G(e){let{setPage:t}=e,[n,s]=(0,a.useState)(""),[l,i]=(0,a.useState)(!0),c=o(),d=(0,I.useVars)().API_URL;async function u(e){console.log("Search Job ID: ".concat(e));let n=await fetch("".concat(d,"/search/").concat(e)),r=await n.json();console.log("Server response received:"),console.log(r),r.exist?(c({type:"find-job",results:r.results}),t("results")):i(!1)}return(0,r.jsx)("div",{className:"mx-auto mt-4 text-center",children:(0,r.jsx)(H.Z,{id:"outlined-basic",label:"Search Job",variant:"outlined",onChange:e=>{s(e.target.value),i(!0)},value:n,InputProps:{endAdornment:(0,r.jsx)(()=>(0,r.jsx)(k.Z,{onClick:()=>u(n),children:(0,r.jsx)(p.Z,{})}),{})},sx:{width:"70%",marginTop:"20%"},autoFocus:!0,error:!l,helperText:!l&&"Job not found"})})}function K(){let e=c();return console.log(e),(0,r.jsx)("div",{children:"Results"})}function X(){let[e,t]=(0,a.useState)("new-job");return(0,r.jsx)("div",{children:(0,r.jsxs)(d,{children:[(0,r.jsx)(N,{page:e,setPage:t}),"new-job"==e&&(0,r.jsx)(m,{children:(0,r.jsx)(Q,{})}),"find-job"==e&&(0,r.jsx)(m,{children:(0,r.jsx)(G,{setPage:t})}),"results"==e&&(0,r.jsx)(m,{children:(0,r.jsx)(K,{})})]})})}}},function(e){e.O(0,[152,971,596,744],function(){return e(e.s=5154)}),_N_E=e.O()}]);